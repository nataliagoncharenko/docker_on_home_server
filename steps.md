# Установка Docker на Ubuntu Server на DEXT Compact M008

Обновление списка пакетов и пакетов:

sudo apt update && sudo apt upgrade -y

## Установка Docker 

* Установить зависимости: 
sudo apt install -y ca-certificates curl gnupg

Здесь установка трех пакетов: 
1) ca-certificates - набор доверенных сертификатов, которые используются для проверки подлинности HTTPS-сайтов. Сертификаты помогают установить безопасное соединение и защитить от подмены данных
2) curl - утилита командной строки для передачи данных по разным протоколам, нужна чтобы скачать GPG-ключ Docker
3) gnupg (GPG-ключ Docker) - инструмент для шифрования и проверки цифровых подписей. Здесь он нужен,ч тобы проверить GPG-ключ Docker репозитория. Проверяет не поддельные ли ключи, без этого бы система не доверяла репозиторию. 

* Добавить официальный GPG-ключ Docker:

sudo install -m 0755 -d /etc/apt/keyrings

Разбор команды:
sudo - стандартно права администратора
install - команла, которая умеет копировать файлы и создавать директории с нужными правами 
-m 0755 - задает права доступа к папке: владелец может читать, писать и входить, все остальные только входить и читать
-d - создание директории
/etc/apt/keyrings - место у Ubuntu, куда складывают GPG-ключи для доверенных репозиториев

* Скачивание и преобразование GPG-ключа:
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

Разбор команды: 
curl -fsSL https://download.docker.com/linux/ubuntu/gpg - скачивание GPG-ключ с официального сервера
флаги -fsSL 
| - передает результат первой команды (ключ) сразу второй на вход

sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg - преобразование сырого ключа в ASCII в бинарный формат .gpg :
--dearmor - преобразование 
-o - указание, куда сохранить

* Разрешение на чтение ключа для всех 

sudo chmod a+r /etc/apt/keyrings/docker.gpg

Разбор команды:
chmod - смена прав доступа
a+r - всем добавить право на чтение (all+read)

